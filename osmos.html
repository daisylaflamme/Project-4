<html>

<style>
	html, body {
		margin: 0;
		padding: 0;

		width: 100%;
		height: 100%;
	}

	#container {
		position: relative;
		
		height: 100%;
		min-height: 670px;
		min-width: 670px;
		
		margin-left: auto;
		margin-right: auto;
	}

	#space {
		position: absolute;

		width: 500px;
		height: 500px;
		
		top: calc(50% - 500px/2);
		left: calc(50% - 500px/2);
		
		background-color: black;
	}
</style>

<body>
	<div id='container'>
	    <div id='space'></div>
	</div>

	<script src='util.js'></script>
	<script src='space.js'></script>
	<script src='blob.js'></script>
	<script>
		var dt = .5;
		var me, you;
		window.onload = function() {
			var myspace = new Space();
			me = new Blob(myspace , 5000, [100,300], [2,4]);
			you = new Blob(myspace , 1000, [10,500], [7,3]);
			he = new Blob(myspace , 100, [10,100], [10,3]);
			window.setInterval(function() { me.simulate(dt); me.redrawBlob(); }, dt);
			window.setInterval(function() { you.simulate(dt); you.redrawBlob(); }, dt);
			window.setInterval(function() { he.simulate(dt); he.redrawBlob(); }, dt);

			for (var k=0; k<1000000; k++){
				if (parseInt(me.position[0], 10)== parseInt(you.position[0], 10) || parseInt(me.position[1], 10) <= parseInt(you.position[1], 10)){
					me.mass = me.mass+1/20000;
				}
			}

		};
	</script>
</body>

</html>